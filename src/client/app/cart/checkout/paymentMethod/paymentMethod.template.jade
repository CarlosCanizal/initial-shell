#new-card(data-ng-if="cardFormView")
  .filter-title
    span.publisher-name.
      Agregar Tarjeta
  .shelf
    .inner-shelf
      .spinner(data-ng-include="'app/layout/loading/loading.template.html'", data-ng-show="loading")
      .shelf-space(data-ng-hide="loading")
        .shelf-content(data-ng-hide="loading")
          div(card-form)
#payment(data-ng-show="showPayment && !cardFormView")
  .filter-title
    span.publisher-name.
     Metodo de Pago
  .shelf
    .disable-shelf(data-ng-show="showPlaceOrder")
      i.fa.fa-check-square-o.fa-5.success
    .inner-shelf
      .spinner(data-ng-include="'app/layout/loading/loading.template.html'", data-ng-show="loading")
      .shelf-space
        .shelf-content(data-ng-hide="loading")
          .pure-g
            .pure-u-1.pure-u-md-1-3.border-right
              .information-box.no-padding
                .shelf-message(data-ng-if="paymentMethods.length < 1")
                  .subtitle
                    |No existen metodos de pago registrados.
                div(data-ng-show="paymentMethods.length > 0")
                  .address-line
                    | Tarjeta 
                  .address-line
                    | {{shoppingCart.paymentMethod.card.name}}
                  .address-line
                    i.fa.fa-cc-visa(ng-if="shoppingCart.paymentMethod.card.brand == 'VISA'")
                    i.fa.fa-cc-mastercard(ng-if="shoppingCart.paymentMethod.card.brand == 'MC'")
                    i.fa.fa-cc-amex(ng-if="shoppingCart.paymentMethod.card.brand == 'AMERICAN_EXPRESS'")
                    | **** **** **** {{shoppingCart.paymentMethod.card.last4}}
            .pure-u-1.pure-u-md-1-3.border-right
              .information-box
                div(data-ng-show="paymentMethods.length > 0")
                  .address-line
                    | Cambiar Metodo de Pago
                  .address-line
                    select(ng-model="shoppingCart.paymentMethod", ng-options="item as item.card.last4 for item in paymentMethods")
                .address-line
                  a.pure-button.button-xsmall(data-ng-click="cardFormView=true")
                    i.fa.fa-plus
                    | Agregar Tarjeta
            .pure-u-1.pure-u-md-1-3.align-center
              div(data-ng-hide="showPlaceOrder")
                .address-line
                  a.pure-button.button-success(data-ng-click="toConfirmOrder()", data-ng-class="{'pure-button-disabled':!shoppingCart.paymentMethod}")
                    i.fa.fa-check
                    | Continuar
                .address-line.no-padding
                a.pure-button(data-ng-click="showModal()", data-question='Â¿Ir al carrito?', data-confirm="goToCart()", data-ng-hide="showConfirmation", confirm-message)
                    i.fa.fa-shopping-cart
                    | Ir al carrito