#account-menu(data-ng-include="'app/account/menu/account.menu.html'", data-ng-if="!view")
#admin-menu(data-ng-include="'app/admin/users/menu/user.menu.html'", data-ng-if="view")
.filter-title
  span.publisher-name(data-ng-bind="shell.labels.myCards")
.shelf
  .inner-shelf
    .shelf-space
      .spinner(data-ng-include="'app/layout/loading/loading.template.html'", data-ng-show="loading")
      #cards-list(data-ng-hide="loading")
        .shelf-message.bottom-divider(ng-if="payment.cards.length < 1")
          .subtitle(data-ng-bind="shell.labels.noPaymentMethods")
        .bottom-divider(ng-if="payment.cards.length > 0")
          .card-item(ng-repeat="item in payment.cards")
            table.info
              tbody
                tr
                  td.info-label(data-ng-bind="shell.labels.name+':'")
                  td.info-value
                    |{{item.card.name}}
                tr
                  td.info-label(data-ng-bind="shell.labels.card+':'")
                  td.info-value
                    i.fa.fa-cc-visa.fa-lg.visa(ng-if="item.card.brand == 'VISA'")
                    i.fa.fa-cc-mastercard.fa-lg.mastercard(ng-if="item.card.brand == 'MC'")
                    i.fa.fa-cc-amex.fa-lg.amex(ng-if="item.card.brand == 'AMERICAN_EXPRESS'")
                    |**** **** **** {{item.card.last4}}
            a.pure-button.button-small.margin-top-1(data-ng-click="showModal()", data-question='Â¿Eliminar tarjeta?', data-confirm="payment.deleteCard({{$index}})", confirm-message)
              i.fa.fa-trash
              span(data-ng-bind="shell.labels.remove")
          .error.align-center(data-ng-if="payment.error")
            |{{payment.error}}
        .buttons-container
          a(ng-click="payment.cardFormView = true")
            i.fa.fa-plus-circle.fa-4x
          div(data-ng-bind="shell.labels.addCard")
          
div(data-ng-show="payment.cardFormView")
  .filter-title
    span.publisher-name(data-ng-bind="shell.label.addCard")
  .shelf
    .inner-shelf
      .shelf-space
        div(card-form)