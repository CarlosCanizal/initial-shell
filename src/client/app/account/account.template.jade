#account-menu(data-ng-include="'app/account/menu/account.menu.html'", data-ng-if="!view")
.filter-title
  span.publisher-name(data-ng-bind="shell.labels.myMembership")
.shelf
  .inner-shelf
    .shelf-space
      div.align-center(data-ng-if="account.user.membership  == 'basic'")
        p(data-ng-bind="shell.labels.membershipType +' '+ shell.labels.basic")
        p(data-ng-bind="shell.labels.accountText1")
        p
          span(data-ng-bind="shell.labels.accountText2")
          span.accent.uppercase(data-ng-bind="shell.labels.pro")
          span(data-ng-bind="accountText3")
        a.pure-button.pure-button-primary(data-ng-click="account.showUpgrade()", data-ng-bind="shell.labels.updateMembership")
      div(data-ng-if="account.user.membership  == 'pro' && shell.isMember()")
        p
          span(data-ng-bind="shell.labels.accountText4")
          span.accent(data-ng-bind="shell.labels.pro")
          | 
          span(data-ng-bind="shell.labels.accountText5")
          span.accent(data-ng-bind="shell.labels.discountValue")
          | 
          span(data-ng-bind="shell.labels.accountText6")
        p
        div.align-right
          a.pure-button(data-ng-click="account.showCancelForm()", data-ng-bind="shell.labels.cancelMembership")
        div.align-center
          h3(data-ng-if="shell.currentUser.nextBilling")
            span(data-ng-bind="shell.labels.nextBilling")
            |: 
            span.accent(data-ng-bind="shell.currentUser.nextBilling")
      div(data-ng-if="account.user.membership  == 'pro' && !shell.isMember()")
        p.error.uppercase(data-ng-bind="shell.labels.important")
        p.error(data-ng-bind="shell.labels.accountText7")
        p
          span(data-ng-bind="shell.labels.accountText8")
          span.accent(data-ng-bind="shell.labels.contactEmail")
        div.align-right
          a.pure-button.button-error(data-ng-click="account.showCancelForm()", data-ng-bind="shell.labels.cancelMembership")
#new-card(data-ng-if="account.cardFormView")
  .filter-title
    span.publisher-name(data-ng-bind="shell.labels.addCard")
  .shelf
    .inner-shelf
      .spinner(data-ng-include="'app/layout/loading/loading.template.html'", data-ng-show="loading")
      .shelf-space(data-ng-hide="loading")
        .shelf-content(data-ng-hide="loading")
          card-form(conekta-id="{{account.user.conektaId}}")

#cancel-membership(data-ng-show="account.cancelFormView")
  .filter-title
    span.publisher-name.error(data-ng-bind="shell.labels.cancelMembership")
  .shelf
    .inner-shelf.error-border
      .shelf-space
        cancel-membership

#update-membership(data-ng-show="(account.upgradeView || shell.isMember()) && !account.cancelFormView")
  .filter-title
    span.publisher-name(data-ng-bind="shell.labels.updateMembership")
  .shelf
    .inner-shelf
      .spinner(data-ng-include="'app/layout/loading/loading.template.html'", data-ng-show="loading")
      .shelf-space
        .shelf-content(data-ng-hide="loading")
          .pure-g
            .pure-u-1.pure-u-md-1-3.border-right
              .information-box.padding-right-1
                .shelf-message(data-ng-if="account.cards.length < 1")
                  .subtitle(data-ng-bind="shell.labels.noPaymentMethods")
                div(data-ng-show="account.cards.length > 0")
                  .address-line(data-ng-bind="shell.labels.card")
                  .address-line(data-ng-bind="account.subscription.payment.card.name")
                  .address-line
                    i.fa.fa-cc-visa.visa(ng-if="account.subscription.payment.card.brand == 'VISA'")
                    i.fa.fa-cc-mastercard.mastercard(ng-if="account.subscription.payment.card.brand == 'MC'")
                    i.fa.fa-cc-amex.amex(ng-if="account.subscription.payment.card.brand == 'AMERICAN_EXPRESS'")
                    | **** **** **** {{account.subscription.payment.card.last4}}
            .pure-u-1.pure-u-md-1-3.border-right
              .information-box.padding-side-1
                div(data-ng-show="account.cards.length > 0")
                  .address-line(data-ng-bind="shell.labels.changePaymentMethod")
                  .address-line
                    select(ng-model="account.subscription.payment", ng-options="item as item.card.last4 for item in account.cards")
                .address-line
                  a.pure-button.button-xsmall(data-ng-click="account.cardFormView=true")
                    i.fa.fa-plus
                    span(data-ng-bind="shell.labels.addCard")
            .pure-u-1.pure-u-md-1-3.align-center
              div(data-ng-hide="checkout.showPlaceOrder")
                .address-line
                  a.pure-button.pure-button-primary(data-ng-click="account.updateMembership('pro')", data-ng-if="account.user.membership  == 'basic'", data-ng-class="{'pure-button-disabled': account.cards.length < 1}", data-ng-bind="shell.labels.updateMembership")
                .address-line
                  a.pure-button(data-ng-click="account.hideUpgrade()",data-ng-if="account.user.membership  == 'basic'", data-ng-bind="shell.labels.noUpdateMembership")
                  div(data-ng-if="account.user.membership  == 'pro'")
                    .address-line
                      a.pure-button.button-success(data-ng-click="account.updateCard()",data-ng-class="{'pure-button-disabled': account.cards.length < 1}")
                        i.fa.fa-credit-card
                        span(data-ng-bind="shell.labels.updateCard")
      